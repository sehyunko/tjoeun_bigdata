2장. 데이터 전처리 -2 


1. 그룹화 함수 계속 

(1) aggregate( 데이터 프레임, by =list(그룹화 할 열), 적용 함수) 

1개 이상의 열들에 대해 1개 이상의 그룹화 처리. 다만 적용 함수는 한가지만 가능 

(2) orderBy( ~ -그룹화 기준 열1 + 그룹화 기준열2, data = 데이터프레임)  --> doBy 패키지 내 함수

그룹화 기준 열1 앞에 - 를 붙임으로서 내림 차순 정렬을 함. descending = TRUE 옵션은 없음에 주의! 

인자값을 formula 형태로 받으며 좌측에 아무것도 기술해주지 않으면 모든 열이 대상이 된다 

(3)  sampleBy( ~ 그룹화 기준열 (보통 범주형), data= 데이터프레임, frac=0.1, replace=TRUE) --> doBy 패키지 내 함수 

각 그룹별로 frac 옵션에 정의한 비율에 따라 일정 비율 (0~1) 씩 샘플링을 한다. 

replace 옵션을 통해 복원 추출을 할지, 비복원 추출을 할지 결정한다. 


2. 데이터 추출 및 분리 

(1) split(데이터 프레임, 데이터를 분리할 조건식/그룹변수 ) 

조건식에 따라 입력받은 데이터를 분리함. 분리된 '데이터 프레임'을 반환한다. 

(2) subset(데이터 프레임, subset =(subsetting 할 조건식 ), select=가지고 올 열)

(3) merge(x, y, all=FALSE/TRUE) 

공통된 열을 기준으로 두 테이블/열을 합친다. all=FALSE 로 지정하면 공통된 부분만 추려서 나타낸다. all=TRUE 로 지정하면 공통되지 않은 부분은 NA 값으로 넣어서 모든 

데이터를 다 보여준다. 

(4) sort( data=데이터 프레임, decreasing=TRUE) -> 정렬된 데이터를 반환한다 

(5) order( data=데이터 프레임, decreasing=TRUE) -> 정렬된 데이터의 인덱스 값을 반환한다 

(6) table( 범주형 자료가 담긴 열)

각 범주 별로의 데이터 갯수를 반환한다. 벡터 자료로 반환 (주의할 것은 NA 데이터 갯수는 모두 빼버리고 카운트 한다) 

(7) with(데이터테이블, 식) 

데이터 테이블 이름$열 이것을 계속 반복해서 작성하기 싫을 때 사용. 

(8) which( subsetting 할 조건식 ) -> 조건에 만족 하는 데이터의 인덱스 값을 반환한다 

which.max( ) -> which 내 조건을 만족 하는 값들 중 최대값의 인덱스를 반환

which.min( ) -> which 내 조건을 만족하는 값들 중 최소값의 인덱스를 반환 

(9) sample(벡터, 랜덤 추출할 갯수)

임의로 벡터 내에 저장된 수를 추출함


  

 


